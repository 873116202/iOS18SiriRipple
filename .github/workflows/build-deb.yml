name: Build iOS18SiriRipple.deb

on:
  pull_request:  # æ·»åŠ å¯¹PRçš„è§¦å‘
  push:
    branches: [main]

jobs:
  build-deb:
    # æ·»åŠ å¤±è´¥é‡è¯•æœºåˆ¶
    runs-on: macos-latest
    continue-on-error: false
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      with:
        ref: ${{ github.event.pull_request.head.sha }}  # ç¡®ä¿æ£€å‡ºPRåˆ†æ”¯
    
    # æ·»åŠ ç¼–è¯‘å‰æ¸…ç†
    - name: Clean previous builds
      run: |
        rm -rf build_output *.deb package
        
    # ... [å…¶ä»–æ­¥éª¤åŒä¹‹å‰] ...
    
    # åœ¨buildæ­¥éª¤åæ·»åŠ è¯Šæ–­
    - name: Diagnostic after build
      run: |
        echo "ğŸ” æ„å»ºäº§ç‰©åˆ†æ:"
        find build_output -name iOS18SiriRipple -print
